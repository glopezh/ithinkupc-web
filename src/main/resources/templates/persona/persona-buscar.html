<!DOCTYPE html>

<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}"
	  xmlns:th="http://www.thymeleaf.org">

	<head>
		<title>Buscar Persona</title>
	</head>

	<body>
		<div class="container" layout:fragment="content">

			<div class="panel panel-primary">
			
				<div class="panel-heading">
					<h3 class="panel-title">Buscar Personas</h3>
				</div>
				
				<div class="panel-body">
					<form id="formPersonaBuscar" class="form-horizontal" th:object="${personaForm}" th:action="@{/persona/persona-buscar}" th:method="post">
						 <input type="hidden" id="id" name="id"/>
						 
						 <div class="form-group">
						   	<label for="dni" class="col-md-3 control-label">DNI</label>
							<div class="col-md-4">
								<input type="text" class="form-control" id="dni" name="persona.dni" />
						   	</div>
						 </div>
						 
						<div class="form-group">
						   	<label for="nombre" class="col-md-3 control-label">Nombre</label>
							<div class="col-md-4">
								<input type="text" class="form-control" id="nombre" name="persona.nombre"  />
						   	</div>
						 </div>

						<div class="form-group">
							<label for="apellido" class="col-md-3 control-label">Apellido</label>
							<div class="col-md-4">
								<input type="text" class="form-control"  id="apellido" name="persona.apellido" />
							</div>
						</div>

						 <div class="form-group">
						 	<div class="col-md-offset-3 col-md-4">
						 		<button id="buscar" type="button" class="btn btn-default">Buscar</button>
								<button id="limpiar" type="button" class="js-volver btn btn-primary">Limpiar</button>
							</div>
							 <div class="col-md-4 text-right">
								 <button id="alta" type="button" class="js-volver btn btn-default">Alta</button>
							 </div>
						 </div>

					
							<div class="panel panel-info">
								<div class="panel-heading">
									<label class="control-label">Listado de Personas</label>
								</div>
								<div class="table-responsive">
									<table class="table table-striped ">
										<thead>
											<tr>
												<th class="col-md-2">DNI</th>
												<th class="col-md-2">Nombre</th>
												<th class="col-md-3">Apellido</th>
												<th class="col-md-2">Teléfono</th>
												<th class="col-md-3 text-center">Acción</th>
											</tr>
										</thead>
										<tbody id="registros-persona">
										<tr th:if="${personaForm.personas.isEmpty()}">
											<td colspan="12" class="text-center">No existe ningún registro</td>
										</tr>
										<tr th:each="persona : ${personaForm.personas}" th:if="${not personaForm.personas.isEmpty()}" >
											<td th:text="${persona.dni}" th:field="${personaForm.persona.dni}"></td>
											<td th:text="${persona.nombre}"></td>
											<td th:text="${persona.apellido}"></td>
											<td th:text="${persona.telefono}"></td>
											<td class="text-center">
												<button class="btn btn-default btn-sm editar-persona" type="button" title="Editar" th:attr="data-id-persona=${persona.id}" th:href="@{/persona/1}">
													<i class="fa fa-pencil"></i>
												</button>
												<button class="btn btn-default btn-sm eliminar-persona" type="button" title="Eliminar" th:attr="data-id-persona=${persona.id}">
													<i class="fa fa-trash-o"></i>
												</button>
											</td>
										</tr>
										</tbody>
									</table>
								</div>
							</div>
					</form>
				</div>
			</div>
	
		</div>
	</body>


	<script layout:fragment="custom-javascript"  th:src="@{/js/persona/persona-buscar.js}"></script>


</html>
